{"version":3,"sources":["components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","services/imagesApi.jsx","App.js","index.js"],"names":["Searchbar","state","query","handleChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","trim","this","className","type","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","images","onClick","map","id","tags","webformatURL","largeImageURL","src","alt","ImageGallery","TailSpin","color","height","width","Button","text","Modal","handleKeyDown","code","onClose","hendelBecdropClick","target","window","addEventListener","removeEventListener","largeImage","console","log","searchQuery","currentPage","axios","get","then","response","data","hits","App","isLoading","error","showModal","openModal","imageUrl","closeModal","onChangeQuery","fetchImages","ImagesApi","prevState","catch","finally","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","Loader","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.11654913.chunk.js","sourcesContent":["import { Component } from 'react';\n\nimport './Searchbar.scss';\n\nclass Searchbar extends Component {\n  state = { query: '' };\n\n  handleChange = event => {\n    this.setState({ query: event.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    this.props.onSubmit(this.state.query.trim());\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n\n    return (\n      <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\nexport default Searchbar;\n","import PropTypes from 'prop-types';\n\nimport './ImageGalleryItem.scss';\n\nconst ImageGalleryItem = ({ images, onClick }) => {\n  return images.map(({ id, tags, webformatURL, largeImageURL }) => (\n    <li key={id} className=\"ImageGalleryItem\">\n      <img\n        src={webformatURL}\n        alt={tags}\n        className=\"ImageGalleryItem-image\"\n        onClick={() => onClick(largeImageURL, tags)}\n      />\n    </li>\n  ));\n};\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\n\nimport './ImageGallery.scss';\n\nconst ImageGallery = ({ images, onClick }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      <ImageGalleryItem images={images} onClick={onClick} />\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import Loader from 'react-loader-spinner';\n\nconst TailSpin = () => {\n  return <Loader type=\"TailSpin\" color=\"#3f51b5\" height={80} width={80} />;\n};\n\nexport default TailSpin;\n","import PropTypes from 'prop-types';\nimport './Button.scss';\n\nconst Button = ({ text = '', type, onClick }) => {\n  return (\n    <button className=\"Button\" type={type} onClick={onClick}>\n      {text}\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n  text: PropTypes.string,\n  type: PropTypes.node,\n};\n\nexport default Button;\n","import { Component } from 'react';\n\nimport './Modal.scss';\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  hendelBecdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { largeImage, alt } = this.props;\n    console.log(alt);\n    return (\n      <div className=\"Overlay\" onClick={this.hendelBecdropClick}>\n        <div className=\"Modal\">\n          <img src={largeImage} alt={alt} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import axios from 'axios';\n\nconst apiKey = '17278300-7d16b91202e921c50b7326d3b';\n\nconst fetchImages = ({ searchQuery = '', currentPage = 1 }) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?q=${searchQuery}&page=${currentPage}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(response => response.data.hits);\n};\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default { fetchImages };\n","import { Component } from 'react';\n\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Loader from './components/Loader';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport ImagesApi from './services/imagesApi';\n\nclass App extends Component {\n  state = {\n    images: [],\n    currentPage: 1,\n    searchQuery: '',\n    isLoading: false,\n    error: null,\n    showModal: false,\n    largeImage: '',\n    tags: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { currentPage, searchQuery } = this.state;\n\n    if (prevState.searchQuery !== searchQuery) {\n      this.fetchImages();\n    }\n\n    if (currentPage !== 2 && prevState.currentPage !== currentPage) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  openModal = imageUrl => {\n    this.setState({\n      largeImage: imageUrl,\n      showModal: true,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      largeImage: '',\n      showModal: false,\n    });\n  };\n\n  onChangeQuery = query => {\n    this.setState({\n      searchQuery: query,\n      currentPage: 1,\n      images: [],\n      error: null,\n    });\n  };\n\n  fetchImages = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n\n    ImagesApi.fetchImages({ searchQuery, currentPage })\n      .then(hits => {\n        this.setState(prevState => ({\n          images: [...prevState.images, ...hits],\n          currentPage: prevState.currentPage + 1,\n        }));\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const {\n      images,\n      isLoading,\n      showModal,\n      largeImage,\n      tags,\n      error,\n    } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.onChangeQuery} />\n        {error && <h1>Images not found!</h1>}\n\n        {isLoading && <Loader />}\n\n        <ImageGallery images={images} onClick={this.openModal} />\n\n        {images.length > 0 && (\n          <Button type=\"button\" text=\"Load more\" onClick={this.fetchImages} />\n        )}\n\n        {showModal && (\n          <Modal largeImage={largeImage} alt={tags} onClose={this.closeModal} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport 'modern-normalize/modern-normalize.css';\nimport './styles/base.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}